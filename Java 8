package org.example;

import java.util.*;
import java.util.function.*;
import java.util.stream.Collectors;

public class Main {
    public static void main(String[] args) {
        //java 8 ->streams
        //lambda expression
        //(no name,no return type,no access modifier)
        Thread t1 = new Thread(()->{
            System.out.println("Thread is running");
        });
        //functional interface can hold lambda expression
        Mathoperation sum = (a,  b )-> a + b;
        Mathoperation sub = (a,  b )-> a - b;
        int res = sum.operation(5,3);
        System.out.println("Sum: "+res);

        //predicate --> functional interface(boolean test(T t))
        Predicate<Integer> p = (a)-> a%2==0;
        System.out.println(p.test(4)); //true
         Predicate<String>isWordStartingWithA = (s)-> s.startsWith("A");
         System.out.println(isWordStartingWithA.test("Apple")); //true
        //public static boolean isEven(int a){
        //    return a%2==0;
        //}
        // /* Function<Integer, Integer> id = Function.identity();
        //
        //        System.out.println(id.apply(5)); // 5
        //        System.out.println(id.apply(100)); // 100*/


        //Functional interface -> an interface with only one abstract method
        //Function<T,R> T is input type and R is output type
        //
        Function<Integer, Integer> square = (a)-> a*a;
        Function<Integer,Integer>cube = (a)-> a*a*a;
        System.out.println(square.andThen(cube).apply(2)); //64
        System.out.println(square.apply(5)); //25

        //Consumer ->no return type,accept(T t)
        Consumer<Integer> print = (a)-> System.out.println(a);
        print.accept(10); //10
        List<Integer>list = Arrays.asList(1,2,3,4,5);
        Consumer<List<Integer>> printList = (l)-> {
            for(Integer i:l){
                System.out.println(i);
            }
        };
        printList.accept(list);

        //supplier
        Supplier<String> supplier = ()-> "Hello, World!";
        System.out.println(supplier.get()); //Hello, World!

        //combined example
        Predicate<Integer> isEven = (a)-> a%2==0;
        Function<Integer, Integer> doubleIt = (a)-> a*2;
        Consumer<Integer> printIt = (a)-> System.out.println(a);
        Supplier<Integer> randomIntSupplier = ()-> new Random().nextInt(100);
        if(isEven.test(randomIntSupplier.get())){
            int result = doubleIt.apply(randomIntSupplier.get());
            printIt.accept(result);
        }

        //BiFunction,BiConsumer,BiPredicate
        BiPredicate<Integer, Integer> isGreater = (a,b)-> a>b;
        BiConsumer<String, Integer> printNameAndAge = (name, age)-> {
            System.out.println("Name: "+name+", Age: "+age);
        };

        //Method reference -> use method without invoking it or replace lambda with method reference
        List<String> students = Arrays.asList("Alice", "Bob", "Charlie");
        students.forEach((x) -> System.out.println(x)); //lambda
        students.forEach(System.out::println); //method reference

         //Constructor reference
        List<String>names = Arrays.asList("iPhone","Samsung","OnePlus");
        List<MobilePhone>list1 =  names.stream().map(MobilePhone :: new).collect(Collectors.toList());

//(args) -> ClassName.method(args)  to ClassName::method
//Function<Integer, Integer> square = Math::abs;
//System.out.println(square.apply(-5)); // 5
/*
String msg = "hello";
Supplier<String> s = msg::toUpperCase;
System.out.println(s.get()); // HELLO



*/



 

    }
}
class MobilePhone{
    String name;
    public MobilePhone(String name){
        this.name = name;
        System.out.println("Mobile Phone Created: "+name);
    }
}
interface Mathoperation{
    int operation(int a,int b);
}
class Task implements Runnable{
    @Override
    public void run() {
        System.out.println("Task is running");
    }
}
